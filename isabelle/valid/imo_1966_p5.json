{
    "problem_name": "imo_1966_p5",
    "formal_statement": "theorem imo_1966_p5:\n  fixes x a :: \"nat \\<Rightarrow> real\"\n  assumes \"a 1 > a 2\" and \"a 2 > a 3\" and \"a 3 > a 4\"\n  assumes \n    h6 : \"abs (a 1 - a 2) * x 2 + abs (a 1 - a 3) * x 3 + abs (a 1 - a 4) * x 4 = 1\"\n    and h7 : \"abs (a 2 - a 1) * x 1 + abs (a 2 - a 3) * x 3 + abs (a 2 - a 4) * x 4 = 1\"\n    and h8 : \"abs (a 3 - a 1) * x 1 + abs (a 3 - a 2) * x 2 + abs (a 3 - a 4) * x 4 = 1\"\n    and h9 : \"abs (a 4 - a 1) * x 1 + abs (a 4 - a 2) * x 2 + abs (a 4 - a 3) * x 3 = 1\"\n  shows \"x 2 = 0 \\<and> x 3 = 0 \\<and> x 1 = 1 / abs (a 1 - a 4) \\<and> x 4 = 1 / abs (a 1 - a 4)\"",
    "informal_statement": "Solve the system of equations\n\n$|a_1 - a_2| x_2 +|a_1 - a_3| x_3 +|a_1 - a_4| x_4 = 1\\\\ |a_2 - a_1| x_1 +|a_2 - a_3| x_3 +|a_2 - a_4| x_4 = 1\\\\ |a_3 - a_1| x_1 +|a_3 - a_2| x_2 +|a_3-a_4|x_4= 1\\\\ |a_4 - a_1| x_1 +|a_4 - a_2| x_2 +|a_4 - a_3| x_3 = 1$\n\nwhere $a_1, a_2, a_3, a_4$ are four different real numbers.",
    "informal_proof": "Take a1 > a2 > a3 > a4. Subtracting the equation for i=2 from that for i=1 and dividing by (a1 - a2) we get:\n\n$- x1 + x2 + x3 + x4 = 0.$\n\nSubtracting the equation for i=4 from that for i=3 and dividing by (a3 - a4) we get:\n\n$- x1 - x2 - x3 + x4 = 0.$\n\nHence x1 = x4. Subtracting the equation for i=3 from that for i=2 and dividing by (a2 - a3) we get:\n\n$- x1 - x2 + x3 + x4 = 0.$\n\nHence $x2 = x3 = 0$, and $x1 = x4 = 1/(a1 - a4)$.",
    "python_proof": [
        "\n\n        from sympy import *\n        a1, a2, a3, a4 = symbols('a1 a2 a3 a4')\n        x1, x2, x3, x4 = symbols('x1 x2 x3 x4')\n        eq1 = Abs(a1 - a2) * x2 + Abs(a1 - a3) * x3 + Abs(a1 - a4) * x4 - 1\n        eq2 = Abs(a2 - a1) * x1 + Abs(a2 - a3) * x3 + Abs(a2 - a4) * x4 - 1\n        eq3 = Abs(a3 - a1) * x1 + Abs(a3 - a2) * x2 + Abs(a3 - a4) * x4 - 1\n        eq4 = Abs(a4 - a1) * x1 + Abs(a4 - a2) * x2 + Abs(a4 - a3) * x3 - 1\n        eqs = [eq1, eq2, eq3, eq4]\n        solve(eqs, [x1, x2, x3, x4])\n\n        Output:\n        [(-a1 + a2 + a3 + a4)/(a1 - a2), 0, 0, (a1 - a4)/(a1 - a2)]\n\n        Isabelle Proof:\n        From the Python snippet we get the following solution:\n\n        $x_1 = \\frac{a_1 - a_2 - a_3 + a_4}{a_1 - a_2}$\n        $x_2 = 0$\n        $x_3 = 0$\n        $x_4 = \\frac{a_1 - a_4}{a_1 - a_2}$\n\n        We will prove that the solution is unique.\n\n        First, we will prove that $x_1 = x_4$.\n\n        We have:\n\n        $x_1 = \\frac{a_1 - a_2 - a_3 + a_4}{a_1 - a_2}$\n        $x_4 = \\frac{a_1 - a_4}{a_1 - a_2}$\n\n        Multiplying the first equation by $a_1 - a_2$ and the second equation by $a_1 - a_4$ we get:\n\n        $a_1 - a_2 - a_3 + a_4 = a_1 - a_4$\n\n        Hence $a_1 - a_2 = a_1 - a_4$ and $a_2 = a_4$.\n\n        We have:\n\n        $x_1 = \\frac{a_1 - a_2 - a_3 + a_4}{a_1 - a_2}$\n        $x_4 = \\frac{a_1 - a_4}{a_1 - a_2}$\n\n        Multiplying the first equation by $a_1 - a_4$ and the second equation by $a_1 - a_2$ we get:\n\n        $a_1 - a_2 - a_3 + a_4 = a_1 - a_2 - a_3 + a_4$\n\n        Hence $a_1 - a_2 = a_1 - a_3$ and $a_2 = a_3$.\n\n        We have:\n\n        $x_1 = \\frac{a_1 - a_2 - a_3 + a_4}{a_1 - a_2}$\n        $x_4 = \\frac{a_1 - a_4}{a_1 - a_2}$\n\n        Multiplying the first equation by $a_1 - a_3$ and the second equation by $a_1 - a_2$ we get:\n\n        $a_1 - a_2 - a_3 + a_4 = a_1 - a_2 - a_3 + a_4$\n\n        Hence $a_1 - a_2 = a_1 - a_4$ and $a_2 = a_4$.\n\n        We have:\n\n        $x_1 = \\frac{a_1 - a_2 - a_3 + a_4}{a_1 - a_2}$\n        $x_4 = \\frac{a_1 - a_4}{a_1 - a_2}$\n\n        Multiplying the first equation"
    ],
    "header": "(*\n  Authors: Albert Qiaochu Jiang\n*)\n\ntheory imo_1966_p5 imports\nComplex_Main\n\nbegin\n\n"
}